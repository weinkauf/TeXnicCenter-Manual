Placeholders
============

A very powerful feature of TeXnicCenter are placeholders. They are used on
occasions when values or commands need to be specified that will change
dynamically during runtime. This feature allows the user a very flexible
configuration of TeXnicCenter because command line arguments, DDE-commands or
other values do not have to be specified statically, but will be dynamically
generated by TeXnicCenter when needed.

Placeholders are a kind of variables. The user specifies the name of the
variable and TeXnicCenter sets the variable's value dynamically by replacing its
name with the current value, when needed.

There a two types of placeholders in TeXnicCenter:

:ref:`placeholder-single`
  This type of placeholders is often used to define command-line arguments and
  DDE-commands. 

:ref:`placeholder-sets`
  This kind of placeholders are used to deal with more than one file at a time. 

.. index::
  placeholder


.. highlight:: text

.. _placeholder-single:

Placeholders for single files 
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Placeholders referring to single files are used in such cases, where arguments
for command line tools (like LaTeX) and DDE-commands need to be defined.

.. Naming conventions 
   """"""""""""""""""

Placeholders for single files have to begin with a percent sign ``%`` followed
by up to three characters. The last character specifies which files the
placeholder refers to:


.. placeholder:: m

  Current project's main filename. 

.. placeholder:: c

  Current filename, i.e. the file opened in the editor that has the input focus. 

The character before the last character describes how to reference the specified
file:

.. placeholder:: p

  The file's fully qualified path. 

.. placeholder:: w

  The file's relative path starting in project directory, i.e. working
  directory. 

.. placeholder:: d

  The file's directory. 

.. placeholder:: n

  The file's name (name and extension).

.. placeholder:: t

  The file's title (name without extension). 

.. placeholder:: e

  The file's extension. 

.. placeholder:: b

  The file's base (fully qualified path without the file extension).

.. placeholder:: r

  The file's drive letter (followed by colon ``:``). 

Instead of :placeholder:`p`, :placeholder:`w`, :placeholder:`d` and
:placeholder:`m` use the uppercase variants of these characters to get slashes
``/`` instead of backslashes ``\\`` as path separators.

The percent sign ``%`` can be followed by an :placeholder:`s`. In this case, the
placeholders will be replaced with paths matching the old 8.3 path convention.

To get a percent sign in the resulting string you have to use the placeholder
:placeholder:`%%` which will always be replaced by ``%``.


Placeholders referring to project's main file
"""""""""""""""""""""""""""""""""""""""""""""

The following placeholders are used as a reference to a project's main file. If
the :menuselection:`Build --> Current File...` command is used, these
placeholders will be replaced with the equivalents for the current file.

The examples in brackets show how the placeholder will be replaced, if the
current project's main file is :file:`C:\\My Documents\\TxcTest\\JustATest.tex`.

.. placeholder:: %pm 

  Will be replaced by the full path of the current project's main file, e.g. ::

    C:\My Documents\TxcTest\JustATest.tex

.. placeholder:: %wm

  Will be replaced by the relative path of the current project's main file, e.g.
  ::

    JustATest.tex

.. placeholder:: %dm

  Will be replaced by the directory of the current project's main file, e.g. ::

    C:\My Documents\TxcTest

.. placeholder:: %nm

  Will be replaced by the name of the current project's main file. The name
  includes the file extension, e.g. ::

    JustATest.tex

.. placeholder:: %tm

  Will be replaced by the title of the current project's main file. The title
  does not include the file extension, e.g. ::
  
    JustATest

.. placeholder:: %em

  Will be replaced by the extension of the current project's main file. 
  :file:`tex`

.. placeholder:: %bm

  Will be replaced by the base of the current project's main file. The base
  includes the directory followed by the file's title without the file
  extension, e.g. ::
  
    C:\My Documents\TxcTest\JustATest


Placeholders with slashes instead of backslashes
''''''''''''''''''''''''''''''''''''''''''''''''

.. placeholder:: %Pm

  Same as :placeholder:`%pm` but using slashes instead of backslashes, e.g. ::

    C:/My Documents/TxcTest/JustATest.tex

.. placeholder:: %Dm

  Same as :placeholder:`%dm` but using slashes instead of backslashes, e.g. ::

    C:/My Documents/TxcTest

.. placeholder:: %Bm

  Same as :placeholder:`%bm` but using slashes instead of backslashes, e.g. ::

    C:/My Documents/TxcTest/JustATest


Placeholders for 8.3 path notation
'''''''''''''''''''''''''''''''''''

.. placeholder:: %spm

  Same as :placeholder:`%pm`, but using the 8.3 path notation, e.g. ::
  
    C:\MyDocu~1\TxcTest\JustAT~1.tex

.. placeholder:: %sdm

  Same as :placeholder:`%dm`, but using the 8.3 path notation, e.g. ::
  
    C:\MyDocu~1\TxcTest

.. placeholder:: %snm

  Same as :placeholder:`%nm`, but using the 8.3 path notation, e.g. ::
  
    JustAT~1.tex

.. placeholder:: %stm

  Same as :placeholder:`%tm`, but using the 8.3 path notation, e.g. ::
  
    JustAT~1

.. placeholder:: %sem

  Same as :placeholder:`%em`, but using the 8.3 path notation, e.g. ::
    
    tex

.. placeholder:: %sbm

  Same as :placeholder:`%sbm`, but using the 8.3 path notation, e.g. ::
  
    C:\MyDocu~1\TxcTest\JustAT~1


Placeholders for 8.3 path notation with slashes instead of backslashes 
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

.. placeholder:: %sPm

  Same as :placeholder:`%spm`, but using slashes instead of backslashes, e.g. ::

    C:/MyDocu~1/TxcTest/JustAT~1.tex

.. placeholder:: %sDm

  Same as :placeholder:`%sdm`, but using slashes instead of backslashes, e.g. ::

    C:/MyDocu~1/TxcTest

.. placeholder:: %sBm

  Same as :placeholder:`%sbm`, but using slashes instead of backslashes, e.g. ::
  
    C:/MyDocu~1/TxcTest/JustAT~1


Placeholders referring to current file 
"""""""""""""""""""""""""""""""""""""""

The following placeholders are used to reference the current file. The current
file is the file opened in the editor, i.e it has the input focus. If no file is
open in the editor the placeholders will not be replaced.

The examples in brackets show how the placeholder will be replaced, if the
current file is :file:`C:\\My Documents\\TxcTest\\SubDir\\AnotherTest.tex` and
the current project's main file is :file:`C:\\My
Documents\\TxcTest\\JustATest.tex`.

.. placeholder:: %pc

  Will be replaced by the full path of the current file, e.g. ::
  
    C:\My Documents\TxcTest\SubDir\AnotherTest.tex

.. placeholder:: %wc

  Will be replaced by the relative path of the current file, e.g. ::
  
    SubDir\AnotherTest.tex

.. placeholder:: %dc

  Will be replaced by the directory of the current file, e.g. ::
    
    C:\My Documents\TxcTest\SubDir

.. placeholder:: %nc

  Will be replaced by the name of the current file. The name includes the file
  extension, e.g. ::

    AnotherTest.tex

.. placeholder:: %tc

  Will be replaced by the title of the current file. The title does not include
  the file extension, e.g. ::
 
    AnotherTest

.. placeholder:: %ec

  Will be replaced by the extension of the current file, e.g. ::

    tex

.. placeholder:: %bc

  Will be replaced by the base of the current file. The base includes the
  directory followed by the file's title without the file extension, e.g. ::

    C:\My Documents\TxcTest\SubDir\AnotherTest


Placeholders with slashes instead of backslashes 
'''''''''''''''''''''''''''''''''''''''''''''''''

.. placeholder:: %Pc

  Same as :placeholder:`%pm`, but using slashes instead of backslashes, e.g. ::

    C:/My Documents/TxcTest/SubDir/AnotherTest.tex

.. placeholder:: %Dc

  Same as :placeholder:`%dm`, but using slashes instead of backslashes, e.g. ::
  
    C:/My Documents/TxcTest/SubDir

.. placeholder:: %Bc

  Same as :placeholder:`%bm`, but using slashes instead of backslashes, e.g. ::

    C:/My Documents/TxcTest/SubDir/AnotherTest


Placeholders for 8.3 path notation
'''''''''''''''''''''''''''''''''''

.. placeholder:: %spc

  Same as :placeholder:`%pm`, but using the 8.3 path notation, e.g. ::
  
    C:\MyDocu~1\TxcTest\SubDir\Anothe~1.tex

.. placeholder:: %sdc

  Same as :placeholder:`%dm`, but using the 8.3 path notation, e.g. ::
  
    C:\MyDocu~1\TxcTest\SubDir

.. placeholder:: %snc

  Same as :placeholder:`%nm`, but using the 8.3 path notation, e.g. ::
  
    Anothe~1.tex

.. placeholder:: %stc

  Same as :placeholder:`%tm`, but using the 8.3 path notation, e.g. ::
  
    Anothe~1

.. placeholder:: %sec

  Same as :placeholder:`%em`, but using the 8.3 path notation, e.g. ::

    tex

.. placeholder:: %sbc

  Same as :placeholder:`%sbm`, but using the 8.3 path notation, e.g. ::
  
    C:\MyDocu~1\TxcTest\SubDir\Anothe~1


Placeholders for 8.3 path notation with slashes instead of backslashes
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

.. placeholder:: %sPc

  Same as :placeholder:`%spm`, but using slashes instead of backslashes, e.g. ::

    C:/MyDocu~1/TxcTest/SubDir/Anothe~1.tex

.. placeholder:: %sDc

  Same as :placeholder:`%sdm`, but using slashes instead of backslashes, e.g. ::

    C:/MyDocu~1/TxcTest/SubDir

.. placeholder:: %sBc

  Same as :placeholder:`%sbm`, but using slashes instead of backslashes, e.g. ::


    C:/MyDocu~1/TxcTest/SubDir/Anothe~1


Placeholders referrening to a selection in the current file 
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

.. placeholder:: %l

  Will be replaced with the line number, the cursor is placed in this line in
  the current file.  The first line has the number 1. 

.. placeholder:: %s

  Will be replaced with the current selection in the current file. If nothing
  has been selected this placeholder will be replaced by the word the cursor is
  currently placed on. 


Other placeholders
""""""""""""""""""

.. placeholder:: %%

  Will be replaced by the string ``%``. 

.. placeholder:: $$

  Will be replaced by the string ``$``. 



.. _placeholder-sets:

Placeholders for sets of files
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Placeholders can be used for handling sets of files.

.. note::

  These placeholders will never generate duplicates of a filename.


``$[q][s][f][r]<FILESET>``

  ``$``

    Starts the placeholder. Use :placeholder:`$$` to get ``$``. 

  ``q``

    All filenames will be separately quoted using ``"``.

  ``s``

    All filenames will be issued in 8.3-format.

  ``f``

    The forward slash ``/`` is used as directory separator.

  ``r``

  The filenames will be given relative to the working directory of the project. 

``<FILESET>``

  One of the following: 

  .. placeholder:: TPF

    All TeX-files of the project.
    
  .. placeholder:: BPF

    All BibTeX-files of the project. 
  
  .. placeholder:: GPF

    All Graphic-files of the project. 

  .. placeholder:: TXC

    All files generated by TeXnicCenter regarding the project. Currently only
    the :file:`.tcp` and :file:`.tps` files. 

  .. placeholder:: COF

    All currently opened files in the editor.

  .. placeholder:: APF

    All project files. This is the sum of :placeholder:`TPF`,
    :placeholder:`BPF`, :placeholder:`GPF` and :placeholder:`TXC`.

  .. placeholder:: AFS

    All above filesets together. This is the sum of :placeholder:`TPF`,
    :placeholder:`BPF`, :placeholder:`GPF`, :placeholder:`TXC` and
    :placeholder:`COF`. 

Examples
""""""""

``$qTPF``

  Lists all (La)TeX-files reported by the structure parser of TeXnicCenter. File
  names in quotes and separated by a space, like::
  
    "D:\Temp\test\curvature3d.tex" "D:\Temp\test\definitions\macros.tex" "D:\Temp\test\chaptertwo.tex"

``$fBPF``

  Lists all BibTeX-files reported by the structure parser of TeXnicCenter. The
  forward slash is used as directory separator. File names separated by a space,
  like::
 
    D:/Temp/test/xbib.bib D:/Temp/test/morebibs/morexbib.bib

``$COF``

  Lists all files, which are currently opened in the editor. File names
  separated by a space (no quotes!), like::
  
    D:\Temp\test\curvature3d.tex D:\Program Files\texmf\pdftex\latex\config\pdflatex.ini

``$qsrAPF``

  Lists all files of the project as reported by the structure parser of
  TeXnicCenter. File names displayed in 8.3-format, path relative to the working
  directory, file names separated by a space, like::
  
    "curvat~1.tcp" "curvat~1.tps" "curvat~1.tex" "xbib.bib" "morebibs\morexb~1.bib" "defini~1\macros.tex" 
    "chapte~1.tex"


Application example
^^^^^^^^^^^^^^^^^^^

A good idea to use placeholders is a tool like the one defined below. This tool
will build a ZIP archive of all files of the current project. A compression
program (like WinZip or WinRAR) is required. Adjust path and arguments for that
program.

* **Command**: :command:`zip.exe`
* **Arguments**: :samp:`a "{%tm}.zip" {$qrAPF}`
* **Initial Directory**: :placeholder:`%dm`

.. Alternative ways to write the arguments above:
    * **Arguments**: ``a "%tm.zip" $qrAPF``
    * **Arguments**: ``a "``:placeholder:`%tm`\ ``.zip" $qr``:placeholder:`APF`
